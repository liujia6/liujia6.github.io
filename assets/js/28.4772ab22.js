(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{501:function(t,s,n){"use strict";n.r(s);var a=n(22),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"vue-积累"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-积累"}},[t._v("#")]),t._v(" vue 积累")]),t._v(" "),n("h2",{attrs:{id:"vue-extend"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-extend"}},[t._v("#")]),t._v(" "),n("a",{attrs:{href:"https://juejin.cn/post/6844904126065688583",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue.extend"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("是什么：获取Vue构造函数的子类")]),t._v(" "),n("p",[t._v("正常情况下我们用new Vue()去创建一个新的实例，通过这个Vue构造函数use实现一些插件，那么在有的情况下我们需要一个新的Vue构造函（会在这个新的Vue构造函数的基础上添加属性等）并且需要继承Vue的一些属性和静态方法等")]),t._v(" "),n("ul",[n("li",[t._v("Vue.extend 返回一个 Vue 的子类，可以再对这个子类构造生成实例")]),t._v(" "),n("li",[t._v("其实和 new Vue.extend Vue 构造函数用法一样，只不过使用 vue.extend 它会帮你保证和 Vue 的全局属性和方法等一致，是 Vue 的继承子类")]),t._v(" "),n("li",[t._v("通过 vue.extend 方法传入 option 后返回一个组件实例")]),t._v(" "),n("li",[t._v("vue3 后去除了该 API，如果 vue3，需要使用，可以考虑使用 extend 根节点")]),t._v(" "),n("li",[t._v("调研 element-plus 和 antd 的 Message 组件是如何替换 Vue.extend")]),t._v(" "),n("li",[t._v("都是使用 createVNode 和 render 组合使用")])]),t._v(" "),n("p",[t._v("使用场景")]),t._v(" "),n("ul",[n("li",[t._v("微前端下每个微应用都应该继承容器的 Vue，实现在容器注册 vue 插件，每个微应用都能使用同样使用容器注册的 vue 插件")]),t._v(" "),n("li",[t._v("编程式调用组件例如 element-ui 的$msg(但是此处其实是无vue插件依赖的，直接用new Vue创建也没问题)")])]),t._v(" "),n("h2",{attrs:{id:"slots"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#slots"}},[t._v("#")]),t._v(" slots")]),t._v(" "),n("ul",[n("li",[t._v("如何提供具名插槽的默认值\n"),n("ul",[n("li",[t._v("先使用插槽，再用<slot/>标签提供插槽")])])]),t._v(" "),n("li",[t._v("使用插槽\n"),n("ul",[n("li",[t._v("具名插槽\n"),n("ul",[n("li",[t._v('2.6 版本之前的旧语法：<template slot="footer">，通过这种方式使用插槽，表明提供$slots\n'),n("ul",[n("li",[t._v("适用于 jsx 中组件或者 dom 表明是父组件的具名插槽，可以不通过 scopedSlots 作用域插槽去表示")])])]),t._v(" "),n("li",[t._v("新语法：#footer")])])]),t._v(" "),n("li",[t._v("作用域插槽\n"),n("ul",[n("li",[t._v('旧语法：<template slot-scope="context">')]),t._v(" "),n("li",[t._v('新语法：#default="context"')])])])])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/babel-plugin-jsx#installation",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue3 jsx"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://vuejs.bootcss.com/guide/render-function.html#slots-%E5%92%8C-children-%E5%AF%B9%E6%AF%94",target:"_blank",rel:"noopener noreferrer"}},[t._v("slots()和 children 对比"),n("OutboundLink")],1),t._v(" "),n("ul",[n("li",[t._v("children = ALL slots()")]),t._v(" "),n("li",[t._v("slots 把插槽细分了")]),t._v(" "),n("li",[t._v("用 children 向子组件传递，可以传递所有插槽，而不是使用 slots.default")]),t._v(" "),n("li",[t._v("有需要采用 children，没有的话，用 slots.default÷")])])])]),t._v(" "),n("h2",{attrs:{id:"vue-单根结点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-单根结点"}},[t._v("#")]),t._v(" vue 单根结点")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"vuejs/vue#7088",title:"comment"}},[t._v("vue 为什么根节点只能用一个")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/Thunberg087/vue-fragment/blob/master/src/component.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-fragment"),n("OutboundLink")],1)])]),t._v(" "),n("p",[n("strong",[t._v("原因")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("由于技术限制：当前的 diff 算法实现都是基于 vNode 和 dom 真实元素一一对应，依赖于具有单个根的组件，如果允许 Fragments 需要对该算法进行重大更改，不仅要使其正常工作，而且必须使其具有高性能，这是一项非常艰巨的任务")])]),t._v(" "),n("li",[n("p",[t._v("代表任何组件的 vue 实例需要绑定到一个单一的 DOM 元素中。唯一可以创建一个具有多个 DOM 节点的组件的方法就是创建一个没有底层 Vue 实例的功能组件")])])]),t._v(" "),n("p",[n("strong",[t._v("两种解决方案")]),t._v("：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("使用 vue 功能组件（见"),n("a",{attrs:{href:"https://github.com/vuejs/vue/issues/7088#issuecomment-345855657",target:"_blank",rel:"noopener noreferrer"}},[t._v("本期第二条评论"),n("OutboundLink")],1),t._v("）")])]),t._v(" "),n("li",[n("p",[t._v("使用"),n("a",{attrs:{href:"https://github.com/y-nk/vue-fragments",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-fragments"),n("OutboundLink")],1),t._v("（第三方扩展）")])]),t._v(" "),n("li",[n("ul",[n("li",[t._v("render 函数中使用 div 包裹子组件")]),t._v(" "),n("li",[t._v("在 mounted 后，修改 this.$el,将改了后的 dom 插入到 parent 里，并删除原有的 dom")])])])]),t._v(" "),n("p",[n("strong",[t._v("REACT 实现")])]),t._v(" "),n("ul",[n("li",[t._v("在 React 中，解决方法是通过的一个 React.Fragment 标签创建一个虚拟元素")])]),t._v(" "),n("h2",{attrs:{id:"函数式组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#函数式组件"}},[t._v("#")]),t._v(" 函数式组件")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/template",target:"_blank",rel:"noopener noreferrer"}},[t._v("<template>：内容模板元素"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("strong",[t._v("函数式组件（functional component）")])]),t._v(" "),n("ul",[n("li",[t._v("是一个不持有状态 data、实例 this 和生命周期的组件。")]),t._v(" "),n("li",[t._v("没有 data、生命周期和 this，函数式组件又叫"),n("strong",[t._v("无状态组件")]),t._v("（stateless component）。")])]),t._v(" "),n("p",[t._v("在 Vue 2 中，函数式组件主要有两个"),n("strong",[t._v("应用场景")])]),t._v(" "),n("ul",[n("li",[t._v("作为性能优化，因为它们的初始化速度比有状态组件快得多")]),t._v(" "),n("li",[t._v("返回多个根节点")])]),t._v(" "),n("p",[t._v("在 Vue 3 中，函数式组件剩下的唯一应用场景就是"),n("strong",[t._v("简单组件")]),t._v("，比如创建动态标题的组件。否则，建议你像平常一样使用有状态组件")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" h "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("DynamicHeading")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("h")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("h")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("level"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attrs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nDynamicHeading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'level'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" DynamicHeading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyInput'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  functional"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  props"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("String"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// NOTE 函数式组件没有 this")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("h"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listeners"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("h")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOM 属性")]),t._v("\n      domProps"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      on"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("input")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" target "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-change'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// listeners 是 data.on 的别名")]),t._v("\n          listeners"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-input'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          listeners"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("input")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"抽象组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#抽象组件"}},[t._v("#")]),t._v(" 抽象组件")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("没有真实的节点，不去解析渲染成真实的 dom 节点，而只是作为中间的数据过渡层处理，在 keep-alive 中是对组件缓存的处理。")])]),t._v(" "),n("li",[n("p",[t._v("<keep-alive>、<transition>、<transition-group>等组件的实现是一个对象，注意它有一个属性 abstract 为 true，表明是它一个抽象组件")]),t._v(" "),n("ul",[n("li",[t._v("在抽象组件的"),n("strong",[t._v("生命周期")]),t._v("过程中，我们可以对包裹的子组件"),n("strong",[t._v("监听的事件进行拦截")]),t._v("，也可以对子组件进行 "),n("strong",[t._v("Dom 操作")]),t._v("，从而可以对我们需要的功能进行封装，而不需要关心子组件的具体实现。")])])]),t._v(" "),n("li",[n("p",[t._v("set(vnode, "),n("code",[t._v("data.on[${eventName}]")]),t._v(", debounce(event, this.wait, this.options));")])]),t._v(" "),n("li",[n("p",[t._v("原理：就是父子组件建立关系时会跳过 abstract 组件")])])]),t._v(" "),n("p",[t._v("参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://juejin.cn/post/6844903838470635528",target:"_blank",rel:"noopener noreferrer"}},[t._v("用 Vue 编写抽象组件：实现一个按钮 debounce"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.bookstack.cn/read/5865c0921b69e6006b3145a1/spilt.4.src-%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82Vue%E4%B8%ADkeep-alive%E7%9A%84%E9%AD%94%E6%B3%95-%E4%B8%8A.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("原理"),n("OutboundLink")],1)])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/answershuto/learnVue/blob/master/docs/Vue.js%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0DOM%E7%AD%96%E7%95%A5%E5%8F%8AnextTick.MarkDown",target:"_blank",rel:"noopener noreferrer"}},[t._v("learnVue/Vue.js异步更新DOM策略及nextTick.MarkDown at master · answershuto/learnVue"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"vue-nexttick原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-nexttick原理"}},[t._v("#")]),t._v(" vue.nextTick原理")]),t._v(" "),n("ul",[n("li",[t._v("vue的在watcher的更新回调函数不会立即执行，会用一个arr队列，在当前执行栈调用完成之后，才会去调用微任务（更新回调函数，这时我们的更新回调才会真正执行），")]),t._v(" "),n("li",[t._v("而nextTick的作用正是将传入的回调函数加入arr队列，这样，我们就能够保证该回调函数，在之前的watcher都执行完成之后执行，拿到所需要的dom，")])]),t._v(" "),n("p",[t._v("问题：")]),t._v(" "),n("p",[t._v("为什么nextTick的回调函数在执行时，实际页面并没有渲染却可以获取到document.innerHTML等更新后的数据呢，")]),t._v(" "),n("p",[t._v("答：")]),t._v(" "),n("p",[t._v("真正的页面渲染与否与当前是否能拿到真实数据是两回事，如果我们需要获取到dom在页面的变化后的位置，则使用nextTick也获取不到")])])}),[],!1,null,null,null);s.default=e.exports}}]);