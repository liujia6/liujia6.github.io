(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{525:function(e,t,n){"use strict";n.r(t);var a=n(22),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h3",{attrs:{id:"防止-布局颠簸"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#防止-布局颠簸"}},[e._v("#")]),e._v(" "),n("a",{attrs:{href:"http://blog.wilsonpage.co.uk/preventing-layout-thrashing/",target:"_blank",rel:"noopener noreferrer"}},[e._v("防止“布局颠簸”"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("布局颠簸是指：不断读写读写导致recalculate style和layout两步执行的次数太多")]),e._v(" "),n("p",[e._v("当JavaScript猛烈写入，然后从DOM读取多次导致文档重排时，就会发生布局刷新。")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// Read\nvar h1 = element1.clientHeight;\n\n// Write (invalidates layout)\nelement1.style.height = (h1 * 2) + 'px';\n\n// Read (triggers layout)\nvar h2 = element2.clientHeight;\n\n// Write (invalidates layout)\nelement2.style.height = (h2 * 2) + 'px';\n\n// Read (triggers layout)\nvar h3 = element3.clientHeight;\n\n// Write (invalidates layout)\nelement3.style.height = (h3 * 2) + 'px';\n")])])]),n("p",[e._v("解决")]),e._v(" "),n("ul",[n("li",[e._v("将操作放到requestAnimation中或者将读写分开")])]),e._v(" "),n("p",[e._v("https://hacks.mozilla.org/2017/10/the-whole-web-at-maximum-fps-how-webrender-gets-rid-of-jank/")]),e._v(" "),n("p",[e._v("https://www.clloz.com/programming/front-end/js/2019/04/25/how-browser-work-2/")])])}),[],!1,null,null,null);t.default=r.exports}}]);