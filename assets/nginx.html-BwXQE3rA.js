import{_ as e,c as n,o as a,a as s}from"./app-BrW2q7b4.js";const t={},r=s(`<h1 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx"><span>nginx</span></a></h1><p>Nginx 的最重要的几个使用场景：</p><ol><li>静态资源服务，通过本地文件系统提供服务；</li><li>反向代理服务，延伸出包括缓存、负载均衡等；</li><li>API 服务，OpenResty ；</li></ol><h3 id="动静分离" tabindex="-1"><a class="header-anchor" href="#动静分离"><span>动静分离</span></a></h3><p>Nginx 的高并发和静态资源缓存等特性，经常将静态资源部署在 Nginx 上。</p><p>如果请求的是静态资源，直接到静态资源目录获取资源，</p><p>如果是动态资源的请求，则利用反向代理的原理，把请求转发给对应后台应用去处理，从而实现动静分离。</p><h2 id="location-匹配" tabindex="-1"><a class="header-anchor" href="#location-匹配"><span><a href="https://juejin.cn/post/6844903849166110733#heading-2" target="_blank" rel="noopener noreferrer">location 匹配</a></span></a></h2><h3 id="匹配优先级" tabindex="-1"><a class="header-anchor" href="#匹配优先级"><span>匹配优先级</span></a></h3><ol><li>精确匹配 =</li><li>前缀匹配 ^~（立刻停止后续的正则搜索）</li><li>按文件中顺序的正则匹配 ~或~*</li><li>匹配不带任何修饰的前缀匹配。</li><li>正则匹配是使用文件中的顺序，找到返回</li></ol><table><thead><tr><th>符号</th><th>含义</th></tr></thead><tbody><tr><td>~</td><td>区分大小写的正则匹配</td></tr><tr><td>~*</td><td>不区分大小写的正则匹配</td></tr><tr><td>^~</td><td>前缀匹配，不匹配正则，优先正则匹配</td></tr><tr><td>/document</td><td>普通前缀匹配，前缀匹配下，返回最长匹配的 location，与 location 所在位置顺序无关</td></tr></tbody></table><h2 id="server-指令块与虚拟主机" tabindex="-1"><a class="header-anchor" href="#server-指令块与虚拟主机"><span><a href="https://segmentfault.com/a/1190000021771733" target="_blank" rel="noopener noreferrer">server 指令块与虚拟主机</a></span></a></h2><p>虚拟主机是一种在单一主机或主机群上运行多个网站或服务的技术，可以用来解决 IP 地址资源有限而网站数目日益增多的问题。实现方式主要有以下三种:</p><ul><li>基于域名(Name-based)</li><li>基于 IP 地址(IP-based)</li><li>基于 Port 端口(Port-based)</li></ul><p>HTTP 请求通过 HOST 请求头指定我们要访问的域名，在 HTTP1.0 不支持，1.1 中请求必须带上 Host 请求头，否则服务器必须返回 400 相应，nginx 通过 server 指令配置虚拟主机</p><h3 id="servername-服务器配置专属开发环境" tabindex="-1"><a class="header-anchor" href="#servername-服务器配置专属开发环境"><span>servername 服务器配置专属开发环境</span></a></h3><p>在服务器上开发时，可以通过 servername 定制自己的域名以及 root 前端打包后的资源，然后再本地配置该域名 host 到该服务器上，则可以访问了</p><p>nginx配置</p><div class="language-nginx line-numbers-mode" data-highlighter="prismjs" data-ext="nginx" data-title="nginx"><pre class="language-nginx"><code><span class="line"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span></span>
<span class="line">  server_name $yourCustomServerName</span>
<span class="line">  root $yourResourcePath</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>host文件</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">$serverIp $yourCustomServerName</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><p><a href="https://github.com/febobo/web-interview/issues/31" target="_blank" rel="noopener noreferrer">history 模式的前端页面访问 404 问题解决</a><a href="https://github.com/mqyqingfeng/Blog/issues/242" target="_blank" rel="noopener noreferrer">一份简单够用的 Nginx Location 配置讲解</a></p>`,23),i=[r];function l(o,d){return a(),n("div",null,i)}const p=e(t,[["render",l],["__file","nginx.html.vue"]]),h=JSON.parse('{"path":"/dev-ops/nginx.html","title":"nginx","lang":"en-US","frontmatter":{},"headers":[{"level":3,"title":"动静分离","slug":"动静分离","link":"#动静分离","children":[]},{"level":2,"title":"location 匹配","slug":"location-匹配","link":"#location-匹配","children":[{"level":3,"title":"匹配优先级","slug":"匹配优先级","link":"#匹配优先级","children":[]}]},{"level":2,"title":"server 指令块与虚拟主机","slug":"server-指令块与虚拟主机","link":"#server-指令块与虚拟主机","children":[{"level":3,"title":"servername 服务器配置专属开发环境","slug":"servername-服务器配置专属开发环境","link":"#servername-服务器配置专属开发环境","children":[]}]},{"level":2,"title":"常见问题","slug":"常见问题","link":"#常见问题","children":[]}],"git":{"updatedTime":1717649313000,"contributors":[{"name":"Liu Jia","email":"41950983+liujia6@users.noreply.github.com","commits":1}]},"filePathRelative":"dev-ops/nginx.md"}');export{p as comp,h as data};
