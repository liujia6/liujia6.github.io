<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>typescript | 游离 の Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.1cdd1db5.css" as="style"><link rel="preload" href="/assets/js/app.301264ef.js" as="script"><link rel="preload" href="/assets/js/2.491aa157.js" as="script"><link rel="preload" href="/assets/js/9.18126abf.js" as="script"><link rel="prefetch" href="/assets/js/10.c14c6624.js"><link rel="prefetch" href="/assets/js/11.a9937c4e.js"><link rel="prefetch" href="/assets/js/12.b046b473.js"><link rel="prefetch" href="/assets/js/13.01aa47ff.js"><link rel="prefetch" href="/assets/js/14.f42daf23.js"><link rel="prefetch" href="/assets/js/15.fb6a03fc.js"><link rel="prefetch" href="/assets/js/16.3d6029c1.js"><link rel="prefetch" href="/assets/js/17.e7fd4a45.js"><link rel="prefetch" href="/assets/js/18.2eee2a30.js"><link rel="prefetch" href="/assets/js/19.c7a805c8.js"><link rel="prefetch" href="/assets/js/20.6ec04b81.js"><link rel="prefetch" href="/assets/js/21.d6a9c37a.js"><link rel="prefetch" href="/assets/js/22.d54975c6.js"><link rel="prefetch" href="/assets/js/23.dd01fe58.js"><link rel="prefetch" href="/assets/js/24.5b080a00.js"><link rel="prefetch" href="/assets/js/25.3e3a8a4d.js"><link rel="prefetch" href="/assets/js/26.530f08ad.js"><link rel="prefetch" href="/assets/js/27.4ff6770f.js"><link rel="prefetch" href="/assets/js/28.4772ab22.js"><link rel="prefetch" href="/assets/js/29.59c92581.js"><link rel="prefetch" href="/assets/js/3.2a78adba.js"><link rel="prefetch" href="/assets/js/30.8945c40e.js"><link rel="prefetch" href="/assets/js/31.71ea1936.js"><link rel="prefetch" href="/assets/js/32.242631cf.js"><link rel="prefetch" href="/assets/js/33.3096cd30.js"><link rel="prefetch" href="/assets/js/34.65f27a2b.js"><link rel="prefetch" href="/assets/js/35.8a5e22fe.js"><link rel="prefetch" href="/assets/js/36.b8444b82.js"><link rel="prefetch" href="/assets/js/37.07333cdf.js"><link rel="prefetch" href="/assets/js/38.c9340582.js"><link rel="prefetch" href="/assets/js/39.86b27506.js"><link rel="prefetch" href="/assets/js/4.6c7e408b.js"><link rel="prefetch" href="/assets/js/40.3e8e0e91.js"><link rel="prefetch" href="/assets/js/41.4abf36b5.js"><link rel="prefetch" href="/assets/js/42.b93937ca.js"><link rel="prefetch" href="/assets/js/43.599a58a3.js"><link rel="prefetch" href="/assets/js/44.58c0ac23.js"><link rel="prefetch" href="/assets/js/45.a007e26f.js"><link rel="prefetch" href="/assets/js/46.9aebcd42.js"><link rel="prefetch" href="/assets/js/47.ac13be33.js"><link rel="prefetch" href="/assets/js/48.34e99078.js"><link rel="prefetch" href="/assets/js/49.195b0aef.js"><link rel="prefetch" href="/assets/js/5.82c6f654.js"><link rel="prefetch" href="/assets/js/50.964a51b7.js"><link rel="prefetch" href="/assets/js/51.b0b85444.js"><link rel="prefetch" href="/assets/js/52.755194bb.js"><link rel="prefetch" href="/assets/js/53.bd98d30b.js"><link rel="prefetch" href="/assets/js/54.51fa13df.js"><link rel="prefetch" href="/assets/js/55.3b27f82c.js"><link rel="prefetch" href="/assets/js/56.2d5f09af.js"><link rel="prefetch" href="/assets/js/57.59e5bf64.js"><link rel="prefetch" href="/assets/js/58.4da215bb.js"><link rel="prefetch" href="/assets/js/59.f0dd1160.js"><link rel="prefetch" href="/assets/js/6.5245781e.js"><link rel="prefetch" href="/assets/js/60.8a3a51dc.js"><link rel="prefetch" href="/assets/js/61.2d221c84.js"><link rel="prefetch" href="/assets/js/62.1efabc55.js"><link rel="prefetch" href="/assets/js/63.fad6ede3.js"><link rel="prefetch" href="/assets/js/64.16603306.js"><link rel="prefetch" href="/assets/js/65.fa49138c.js"><link rel="prefetch" href="/assets/js/66.881a3bb5.js"><link rel="prefetch" href="/assets/js/67.25cbb4cf.js"><link rel="prefetch" href="/assets/js/68.117eca53.js"><link rel="prefetch" href="/assets/js/69.053855dc.js"><link rel="prefetch" href="/assets/js/7.fc1bdbb6.js"><link rel="prefetch" href="/assets/js/70.7721e7e9.js"><link rel="prefetch" href="/assets/js/71.29a557ad.js"><link rel="prefetch" href="/assets/js/72.1a6f90ae.js"><link rel="prefetch" href="/assets/js/73.913d468a.js"><link rel="prefetch" href="/assets/js/74.96968d72.js"><link rel="prefetch" href="/assets/js/75.01b38a33.js"><link rel="prefetch" href="/assets/js/76.f82ae778.js"><link rel="prefetch" href="/assets/js/77.68514817.js"><link rel="prefetch" href="/assets/js/78.56b87e13.js"><link rel="prefetch" href="/assets/js/79.9ac9d757.js"><link rel="prefetch" href="/assets/js/8.f060be44.js"><link rel="prefetch" href="/assets/js/80.6090f235.js"><link rel="prefetch" href="/assets/js/81.7de2f01b.js"><link rel="prefetch" href="/assets/js/82.1b7be951.js"><link rel="prefetch" href="/assets/js/83.1104bfb5.js"><link rel="prefetch" href="/assets/js/84.7e0dbb84.js"><link rel="prefetch" href="/assets/js/85.abb461ec.js"><link rel="prefetch" href="/assets/js/86.2e77efbc.js"><link rel="prefetch" href="/assets/js/87.b93727f5.js"><link rel="prefetch" href="/assets/js/88.b554117b.js"><link rel="prefetch" href="/assets/js/89.c1306298.js"><link rel="prefetch" href="/assets/js/90.328f05cd.js"><link rel="prefetch" href="/assets/js/91.8008e0b0.js"><link rel="prefetch" href="/assets/js/92.8b4dca37.js"><link rel="prefetch" href="/assets/js/93.9f7d7273.js"><link rel="prefetch" href="/assets/js/94.176890d0.js"><link rel="prefetch" href="/assets/js/95.a69dbea6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1cdd1db5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">游离 の Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/vuejs/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/vuejs/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JS/基础.html" class="sidebar-link">基础</a></li><li><a href="/JS/异步.html" class="sidebar-link">异步</a></li><li><a href="/JS/Error.html" class="sidebar-link">基本 Error 语法</a></li><li><a href="/JS/错误处理.html" class="sidebar-link">错误处理的应用</a></li><li><a href="/JS/类型转换.html" class="sidebar-link">JS 类型与转换</a></li><li><a href="/JS/ts.html" aria-current="page" class="active sidebar-link">typescript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JS/ts.html#typescript" class="sidebar-link">typescript</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#ts-使用" class="sidebar-link">ts 使用</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#封装" class="sidebar-link">封装</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#多态" class="sidebar-link">多态</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#抽象类" class="sidebar-link">抽象类</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#接口-interface" class="sidebar-link">接口-interface</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#基于类的继承和基于原型的继承的区别" class="sidebar-link">基于类的继承和基于原型的继承的区别</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#声明文件" class="sidebar-link">声明文件</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#命名空间" class="sidebar-link">命名空间</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#null-和-undefined" class="sidebar-link">Null 和 Undefined</a></li><li class="sidebar-sub-header"><a href="/JS/ts.html#访问联合类型的属性或方法" class="sidebar-link">访问联合类型的属性或方法</a></li></ul></li><li><a href="/JS/RXJS.html" class="sidebar-link">RXJS</a></li><li><a href="/JS/手写代码系列.html" class="sidebar-link">手写代码</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Dev Ops</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="typescript"><a href="#typescript" class="header-anchor">#</a> <a href="https://juejin.im/post/5d0259f2518825405d15ae62#heading-17" target="_blank" rel="noopener noreferrer">typescript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h2 id="ts-使用"><a href="#ts-使用" class="header-anchor">#</a> ts 使用</h2> <blockquote><p>npm install -g typescript</p> <p>tsc test.ts</p></blockquote> <p>对 .ts 文件进行编译，编译成功后可以看到在同级目录下生成了一个 test.js 文件。</p> <h3 id="基本类型"><a href="#基本类型" class="header-anchor">#</a> 基本类型</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> flag<span class="token operator">:</span>boolean<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> num<span class="token operator">:</span>number<span class="token operator">=</span><span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str<span class="token operator">:</span>string<span class="token operator">=</span><span class="token string">&quot;哈哈&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr<span class="token operator">:</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr<span class="token operator">:</span>Array<span class="token operator">&lt;</span>number<span class="token punctuation">,</span>string<span class="token operator">&gt;</span>
<span class="token comment">//readonly vs const</span>
<span class="token comment">//最简单判断该用readonly还是const的方法是看要把它做为变量使用还是做为一个属性。 做为变量使用的话用 const，若做为属性则使用readonly。</span>
<span class="token keyword">let</span> ro<span class="token operator">:</span> ReadonlyArray<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> a<span class="token punctuation">;</span>

<span class="token comment">// 联合类型</span>
<span class="token keyword">var</span> val<span class="token operator">:</span>string<span class="token operator">|</span>number
val <span class="token operator">=</span> <span class="token number">12</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;数字为 &quot;</span><span class="token operator">+</span> val<span class="token punctuation">)</span>
val <span class="token operator">=</span> <span class="token string">&quot;Runoob&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;字符串为 &quot;</span> <span class="token operator">+</span> val<span class="token punctuation">)</span>
<span class="token comment">//元组tuple，数组的一种,数组中每一个值弄个类型</span>
<span class="token keyword">let</span> arr<span class="token operator">:</span><span class="token punctuation">[</span>number<span class="token punctuation">,</span>string<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token string">'this'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr<span class="token operator">:</span>any<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token string">'sdf'</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">]</span>
<span class="token comment">//枚举，用自然语言string来表示一个数值，且能够在指定了数值后往后递增</span>
<span class="token keyword">enum</span> flag<span class="token operator">=</span><span class="token punctuation">{</span>
    success<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
    error<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
    emmm
<span class="token punctuation">}</span>
<span class="token keyword">let</span> s<span class="token operator">:</span>flag<span class="token operator">=</span>flag<span class="token punctuation">.</span>error<span class="token comment">//2</span>
<span class="token keyword">let</span> s<span class="token operator">:</span>flag<span class="token operator">=</span>flag<span class="token punctuation">.</span>emmm<span class="token comment">//3</span>
<span class="token comment">//任意类型</span>
<span class="token keyword">let</span> num<span class="token operator">:</span>any<span class="token operator">=</span><span class="token punctuation">{</span>num<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span>
<span class="token comment">//可以是number也可以是undefined</span>
<span class="token keyword">let</span> num<span class="token operator">:</span>number<span class="token operator">|</span><span class="token keyword">undefined</span><span class="token operator">|</span><span class="token keyword">null</span>
<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;sdf&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// as断言</span>
<span class="token keyword">let</span> strLength<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> someValue<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token keyword">let</span> strLength<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token punctuation">(</span>someValue <span class="token keyword">as</span> string<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">//undefined或null</span>
<span class="token keyword">let</span> a<span class="token operator">:</span>never<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span>string<span class="token punctuation">,</span>age<span class="token operator">:</span>nnumber</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">string</span><span class="token punctuation">(</span>
    <span class="token keyword">return</span> <span class="token string">'name'</span>
<span class="token punctuation">)</span>
<span class="token comment">//age参数可传可不传，可选参数必须放到最后面，默认参数同es6</span>
<span class="token keyword">var</span> <span class="token function-variable function">getInfo</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nae<span class="token operator">:</span>string<span class="token punctuation">,</span>age<span class="token operator">?</span><span class="token operator">:</span>number<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token operator">...</span>res<span class="token operator">:</span>number<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token operator">:</span>string<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'asdf'</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="封装"><a href="#封装" class="header-anchor">#</a> 封装</h2> <p>数据只能通过公共方法访问，从而使私有字段及其实现对外部类隐藏</p> <ul><li>public: 公有 在类里面，子类，类外面都可访问，默认属性</li> <li>protected: 保护类型，在类里面，子类可访问,外部不可</li> <li>private：私有，在类里面可以访问，子类，类外都不能访问</li></ul> <h2 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h2> <p>Java 继承，一个类获取另一个类的属性（数据成员）和功能（方法）的过程称为继承。</p> <ul><li>派生类继承声明为 public 或 protected 的所有成员和方法。</li> <li>私有成员只能在自己的类中访问。只能使用公共或受保护的超类获取器和设置器方法访问此类私有成员</li></ul> <h2 id="多态"><a href="#多态" class="header-anchor">#</a> 多态</h2> <p>多态分为静态多态和动态多态</p> <ol><li><code>静态多态</code>又称编译时多态，例如 Java 中的<code>方法重载</code> ，是指同一个方法名，不同参数，根据参数决定不同方法。
<ul><li>参数列表中的参数数量不同</li> <li>参数的数据类型的差异</li> <li>参数的数据类型顺序</li></ul></li> <li><code>动态多态</code>又称运行时多态，例如 Java 中的<code>方法覆盖</code>。声明子类中已经存在于父类中的方法称为方法覆盖</li></ol> <p>Java 实现多态有三个必要条件：继承、重写、向上转型。</p> <ul><li>继承：在多态中必须存在有继承关系的子类和父类。</li> <li>重写：子类对父类中某些方法进行重新定义，在调用这些方法时就会调用子类的方法。</li> <li>向上转型：在多态中需要将子类的引用赋给父类对象，只有这样该引用才能够具备技能调用父类的方法和子类的方法。</li></ul> <h2 id="抽象类"><a href="#抽象类" class="header-anchor">#</a> 抽象类</h2> <ul><li>使用 abstract 关键字声明的类称为抽象类。</li> <li>它可以有抽象方法（没有主体的方法）以及具体方法（常规方法与主体）。普通类（非抽象类）不能有抽象方法。</li> <li>抽象类不能实例化，不能创建它的对象</li> <li>抽象类概述了方法，但未必实现所有方法</li> <li>抽象类一次只能扩展一个类或一个抽象类</li> <li>接口只能有抽象方法，它们不能有具体方法</li></ul> <h2 id="接口-interface"><a href="#接口-interface" class="header-anchor">#</a> 接口-interface</h2> <ul><li>类 implements 接口,接口 extends 另一个接口</li> <li>所有接口方法默认为 abstract 和 public</li> <li>接口中声明的变量默认为 public，static 和 final</li> <li>接口变量必须在声明时初始化，否则编译器将抛出错误</li> <li>类可以实现任何数量的接口</li> <li>在 java 中，不允许多重继承 ，但是您可以使用接口来使用它，因为您可以实现多个接口。</li></ul> <h2 id="基于类的继承和基于原型的继承的区别"><a href="#基于类的继承和基于原型的继承的区别" class="header-anchor">#</a> 基于类的继承和基于原型的继承的区别</h2> <table><thead><tr><th>基于类的继承</th> <th>原型继承</th></tr></thead> <tbody><tr><td>类是不可变的。在运行时，你无法修改或者添加新的方法</td> <td>原型是灵活的。它们可以是不可变的也可以是可变的</td></tr> <tr><td>类可能会不支持多重继承</td> <td>对象可以继承多个原型对象</td></tr> <tr><td>基于类的继承比较复杂。你需要使用抽象类，接口和 final 类等等</td> <td>原型继承比较简洁。你只有对象，你只需要对对象进行扩展就可以了</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 方法重载</span>
<span class="token keyword">function</span> <span class="token function">filterPersons</span><span class="token punctuation">(</span>
    persons<span class="token operator">:</span> Person<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    personType<span class="token operator">:</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
    criteria<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Admin<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">function</span> <span class="token function">filterPersons</span><span class="token punctuation">(</span>
    persons<span class="token operator">:</span> Person<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    personType<span class="token operator">:</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span>
    criteria<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">function</span> <span class="token function">filterPersons</span><span class="token punctuation">(</span>
    <span class="token parameter">persons<span class="token operator">:</span> Person<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    personType<span class="token operator">:</span> string<span class="token punctuation">,</span>
    criteria<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">,</span></span>
<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> persons
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> person<span class="token punctuation">.</span>type <span class="token operator">===</span> personType<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> criteriaKeys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>criteria<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token punctuation">(</span>keyof Person<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> criteriaKeys<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fieldName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> person<span class="token punctuation">[</span>fieldName<span class="token punctuation">]</span> <span class="token operator">===</span> criteria<span class="token punctuation">[</span>fieldName<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> usersOfAge23<span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">filterPersons</span><span class="token punctuation">(</span>persons<span class="token punctuation">,</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">23</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> adminsOfAge23<span class="token operator">:</span> Admin<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">filterPersons</span><span class="token punctuation">(</span>persons<span class="token punctuation">,</span> <span class="token string">'admin'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">23</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 类型保护</span>
<span class="token keyword">function</span> <span class="token function">isAdmin</span><span class="token punctuation">(</span><span class="token parameter">person<span class="token operator">:</span> Person</span><span class="token punctuation">)</span><span class="token operator">:</span> person is Admin <span class="token punctuation">{</span>
    <span class="token keyword">return</span> person<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'role'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Web</span> <span class="token keyword">extends</span> <span class="token class-name">Persron</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>string<span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'string'</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span><span class="token operator">:</span>公有  在类里面，子类，类外面都可访问，默认属性
    <span class="token keyword">protected</span><span class="token operator">:</span>保护类型，在类里面，子类可访问<span class="token punctuation">,</span>外部不可
    <span class="token keyword">private</span>：私有，在类里面可以访问，子类，类外都不能访问
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Web</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>name<span class="token comment">//访问不到</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//继承了抽象类的class必须有这些抽象方法</span>
abstract <span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    abstract <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>any<span class="token punctuation">;</span><span class="token comment">//抽象方法和抽象类，抽象方法必须在抽象类里面，抽象类必须有抽象方法</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">animal</span><span class="token punctuation">{</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 类型别名</span>
type Name <span class="token operator">=</span> string<span class="token punctuation">;</span>
type <span class="token function-variable function">NameResolver</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> string<span class="token punctuation">;</span>
type NameOrResolver <span class="token operator">=</span> Name <span class="token operator">|</span> NameResolver<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span> NameOrResolver</span><span class="token punctuation">)</span><span class="token operator">:</span> Name <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> n <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//interface 和 type 都可以拓展，并且两者并不是相互独立的，也就是说interface可以 extends type, type 也可以 extends interface 。 虽然效果差不多，但是两者语法不同。</span>

type 可以声明基本类型别名，联合类型，元组等类型
<span class="token comment">//type extends type</span>
type Name <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
type User <span class="token operator">=</span> Name <span class="token operator">&amp;</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> number  <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//type extends interface</span>
<span class="token keyword">interface</span> <span class="token class-name">Name</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
type User <span class="token operator">=</span> Name <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//方法接口</span>
<span class="token keyword">interface</span> <span class="token class-name">ConfigFn</span><span class="token punctuation">{</span>
    <span class="token punctuation">(</span>value1<span class="token operator">:</span>string<span class="token punctuation">,</span>value2<span class="token operator">:</span>string<span class="token punctuation">)</span><span class="token operator">:</span>string
<span class="token punctuation">}</span>
<span class="token keyword">var</span> setData<span class="token operator">:</span><span class="token function-variable function">Config</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token comment">//泛型接口</span>
<span class="token keyword">interface</span> <span class="token class-name">configFn</span><span class="token punctuation">{</span>
    <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> getData<span class="token operator">:</span><span class="token function-variable function">config</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> myGetData<span class="token operator">:</span>ConfigFn<span class="token operator">&lt;</span>string<span class="token operator">&gt;=</span>getdata；

getData<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token keyword">interface</span> <span class="token class-name">SquareConfig</span> <span class="token punctuation">{</span>
    color<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    width<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>propName<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> squareOptions <span class="token operator">=</span> <span class="token punctuation">{</span> colour<span class="token operator">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mySquare <span class="token operator">=</span> <span class="token function">createSquare</span><span class="token punctuation">(</span>squareOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">SearchFunc</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>source<span class="token operator">:</span> string<span class="token punctuation">,</span> subString<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//可索引接口：对数组，对象的约束</span>
<span class="token keyword">interface</span><span class="token operator">:</span>UserArr<span class="token punctuation">{</span>
    <span class="token punctuation">[</span>index<span class="token operator">:</span>number<span class="token punctuation">]</span><span class="token operator">:</span>string
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr<span class="token operator">:</span>UserAr<span class="token punctuation">[</span><span class="token string">'111'</span><span class="token punctuation">,</span><span class="token string">'12'</span><span class="token punctuation">]</span>
<span class="token comment">//类类型接口</span>
<span class="token keyword">interface</span><span class="token operator">:</span>Animal<span class="token punctuation">{</span>
    name<span class="token operator">:</span>string<span class="token punctuation">;</span>
    <span class="token function">eat</span><span class="token punctuation">(</span>str<span class="token operator">:</span>string<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token comment">// implements限制当前类的结构，Dog类必须满足animal接口,限制结构</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> implents Animal<span class="token punctuation">{</span>
    name<span class="token operator">:</span>string<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//通过extends实现接口扩展，继承</span>
<span class="token keyword">interface</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">web</span> implents Person<span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token operator">:</span>string<span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//泛型</span>
<span class="token comment">//any放弃了类型检查，我们要实现，传入什么返回什么，</span>

<span class="token keyword">function</span> getData<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> value
<span class="token punctuation">}</span>
getData<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
getData<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MinClass</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> list<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> list<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">add</span><span class="token punctuation">(</span>num<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>接口继承类</p> <ul><li>接口继承了一个类类型时，会继承类的成员但不包括其实现。 接口同样会继承到类的 private 和 protected 成员。</li> <li>当你创建了一个接口继承了一个拥有私有或受保护的成员的类时，这个接口类型只能被这个类或其子类所实现（implement）。</li></ul> <p>继承类</p> <ul><li>派生类包含了一个构造函数，它 必须调用 super()，它会执行基类的构造函数。 而且，在构造函数里访问 this 的属性之前，我们一定要调用 super()。 这个是 TypeScript 强制执行的一条重要规则。</li></ul> <h2 id="声明文件"><a href="#声明文件" class="header-anchor">#</a> 声明文件</h2> <ul><li>通常我们会把声明语句放到一个单独的文件（jQuery.d.ts）中，这就是声明文件。例如 jquery 的声明文件
<blockquote><p>// src/jQuery.d.ts</p> <p>declare var jQuery: (selector: string) =&gt; any;</p></blockquote></li> <li>一般来说，ts 会解析项目中所有的 _.ts 文件，当然也包含以 .d.ts 结尾的文件。所以当我们将 jQuery.d.ts 放到项目中时，其他所有 _.ts 文件就都可以获得 jQuery 的类型定义了。</li> <li>我们可以直接下载下来使用，但是更推荐的是使用 @types 统一管理第三方库的声明文件。</li> <li>@types 的使用方式很简单，直接用 npm 安装对应的声明模块即可，以 jQuery 举例：
<blockquote><p>npm install @types/jquery --save-dev</p></blockquote></li></ul> <h2 id="命名空间"><a href="#命名空间" class="header-anchor">#</a> 命名空间</h2> <div class="language-js extra-class"><pre class="language-js"><code>namespace Food <span class="token punctuation">{</span>
    <span class="token keyword">export</span> type <span class="token constant">A</span> <span class="token operator">=</span> Window<span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Fruits</span><span class="token punctuation">{</span>
        taste<span class="token operator">:</span> string<span class="token punctuation">;</span>
        hardness<span class="token operator">:</span> number<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Meat</span><span class="token punctuation">{</span>
        taste<span class="token operator">:</span> string<span class="token punctuation">;</span>
        heat<span class="token operator">:</span> number<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用</span>
<span class="token keyword">let</span> meat<span class="token operator">:</span> Food<span class="token punctuation">.</span>Meat<span class="token punctuation">;</span>
<span class="token keyword">let</span> fruits<span class="token operator">:</span> Food<span class="token punctuation">.</span>Fruits<span class="token punctuation">;</span>
</code></pre></div><h3 id="interface-和-type-类型别名"><a href="#interface-和-type-类型别名" class="header-anchor">#</a> interface 和 type(类型别名)</h3> <p>interface 和 type 很像，很多场景，两者都能使用。但也有细微的差别：</p> <ul><li>类型：对象、函数两者都适用，但是 type 可以用于基础类型、联合类型、元祖。</li> <li>同名合并：interface 支持，type 不支持。</li> <li>计算属性：type 支持, interface 不支持。
总的来说，公共的用 interface 实现，不能用 interface 实现的再用 type 实现。</li></ul> <h3 id="映射"><a href="#映射" class="header-anchor">#</a> 映射</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*
type计算属性，生成映射类型
type 能使用 in 关键字生成映射类型，但 interface 不行。

语法与索引签名的语法类型，内部使用了 for .. in。 具有三个部分：

类型变量 K，它会依次绑定到每个属性。
字符串字面量联合的 Keys，它包含了要迭代的属性名的集合。
属性的结果类型。
*/</span>
type Keys <span class="token operator">=</span> <span class="token string">&quot;firstname&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;surname&quot;</span>

type DudeType <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key <span class="token keyword">in</span> Keys<span class="token punctuation">]</span><span class="token operator">:</span> string
<span class="token punctuation">}</span>

<span class="token keyword">const</span> test<span class="token operator">:</span> DudeType <span class="token operator">=</span> <span class="token punctuation">{</span>
  firstname<span class="token operator">:</span> <span class="token string">&quot;Pawel&quot;</span><span class="token punctuation">,</span>
  surname<span class="token operator">:</span> <span class="token string">&quot;Grzybek&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 将传入的属性变为只读选项</span>
type Readonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    readonly <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> keyof <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 将传入的属性变为可选项：keyof T 拿到 T 所有属性名, 然后 in 进行遍历, 将值赋给 P, 最后 T[P] 取得相应属性的值.</span>
type Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> keyof <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//TypeScript内置了Readonly和Partial，所以不需要手动声明实现。除此之外，还有其他常用的内置类型如：</span>
type PersonPartial <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">;</span>
type ReadonlyPerson <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">//Record</span>
<span class="token comment">//将K中的所有属性的值转化为T类型：</span>
<span class="token comment">// type Criteria = {</span>
<span class="token comment">//     [K in keyof User]?: User[K]</span>
<span class="token comment">// }</span>
type Record<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> any<span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//Pick</span>
从 <span class="token constant">T</span> 中取出 一系列 <span class="token constant">K</span> 的属性
type Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//Required</span>
将传入的属性变为必选项
type Required<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> keyof <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="练习"><a href="#练习" class="header-anchor">#</a> 练习</h3> <ul><li>涉及泛型 as const</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">;</span>
    name<span class="token operator">:</span> string<span class="token punctuation">;</span>
    age<span class="token operator">:</span> number<span class="token punctuation">;</span>
    occupation<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Admin</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'admin'</span><span class="token punctuation">;</span>
    name<span class="token operator">:</span> string<span class="token punctuation">;</span>
    age<span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">logUser</span><span class="token punctuation">(</span><span class="token parameter">user<span class="token operator">:</span> User</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pos <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> - #</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pos<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> User: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>occupation<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">logAdmin</span><span class="token punctuation">(</span><span class="token parameter">admin<span class="token operator">:</span> Admin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pos <span class="token operator">=</span> admins<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>admin<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> - #</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pos<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> Admin: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>admin<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>admin<span class="token punctuation">.</span>role<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> admins<span class="token operator">:</span> Admin<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'admin'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'Will Bruces'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        role<span class="token operator">:</span> <span class="token string">'Overseer'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'admin'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'Steve'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
        role<span class="token operator">:</span> <span class="token string">'Steve'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> users<span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'Moses'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">,</span>
        occupation<span class="token operator">:</span> <span class="token string">'Desert guide'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'Superman'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
        occupation<span class="token operator">:</span> <span class="token string">'Ordinary person'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> swap<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span><span class="token constant">K</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>v1<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">,</span> v2<span class="token operator">:</span><span class="token constant">K</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>v2<span class="token punctuation">,</span> v1<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">yellow</span><span class="token punctuation">(</span><span class="token string">'test1:'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>secondUser<span class="token punctuation">,</span> firstAdmin<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">swap</span><span class="token punctuation">(</span>admins<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> users<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">logUser</span><span class="token punctuation">(</span>secondUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">logAdmin</span><span class="token punctuation">(</span>firstAdmin<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="null-和-undefined"><a href="#null-和-undefined" class="header-anchor">#</a> Null 和 Undefined</h2> <p>在 TypeScript 中，可以使用 null 和 undefined 来定义这两个原始数据类型：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> u<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
与 <span class="token keyword">void</span> 的区别是，<span class="token keyword">undefined</span> 和 <span class="token keyword">null</span> 是所有类型的子类型。也就是说 <span class="token keyword">undefined</span> 类型的变量，可以赋值给 number 类型的变量：

<span class="token comment">// 这样不会报错</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token comment">// 这样也不会报错</span>
<span class="token keyword">let</span> u<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> number <span class="token operator">=</span> u<span class="token punctuation">;</span>
而 <span class="token keyword">void</span> 类型的变量不能赋值给 number 类型的变量：

<span class="token keyword">let</span> u<span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> number <span class="token operator">=</span> u<span class="token punctuation">;</span>

<span class="token comment">// Type 'void' is not assignable to type 'number'.</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> myFavoriteNumber <span class="token operator">=</span> <span class="token string">'seven'</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(2,1): error TS2322: Type 'number' is not assignable to type 'string'.</span>
事实上，它等价于：

<span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">'seven'</span><span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>

<span class="token comment">// index.ts(2,1): error TS2322: Type 'number' is not assignable to type 'string'.</span>
</code></pre></div><ul><li>(初始化即赋值-&gt; 根据初始化的值类型推论)</li> <li>(初始化无赋值-&gt; 定义为 any 类型)</li></ul> <h2 id="访问联合类型的属性或方法"><a href="#访问联合类型的属性或方法" class="header-anchor">#</a> 访问联合类型的属性或方法</h2> <p>当 TypeScript 不确定一个联合类型的变量到底是哪个类型的时候，我们只能访问此联合类型的所有类型里共有的属性或方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token parameter">something<span class="token operator">:</span> string <span class="token operator">|</span> number</span><span class="token punctuation">)</span><span class="token operator">:</span> number <span class="token punctuation">{</span>
    <span class="token keyword">return</span> something<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// index.ts(2,22): error TS2339: Property 'length' does not exist on type 'string | number'.</span>
<span class="token comment">//   Property 'length' does not exist on type 'number'.</span>
上例中，length 不是 string 和 number 的共有属性，所以会报错。

访问 string 和 number 的共有属性是没问题的：

<span class="token keyword">function</span> <span class="token function">getString</span><span class="token punctuation">(</span><span class="token parameter">something<span class="token operator">:</span> string <span class="token operator">|</span> number</span><span class="token punctuation">)</span><span class="token operator">:</span> string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> something<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
联合类型的变量在被赋值的时候，会根据类型推论的规则推断出一个类型：

<span class="token keyword">let</span> myFavoriteNumber<span class="token operator">:</span> string <span class="token operator">|</span> number<span class="token punctuation">;</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token string">'seven'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myFavoriteNumber<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
myFavoriteNumber <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myFavoriteNumber<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 编译时报错</span>

<span class="token comment">// index.ts(5,30): error TS2339: Property 'length' does not exist on type 'number'.</span>
上例中，第二行的 myFavoriteNumber 被推断成了 string，访问它的 length 属性不会报错。

而第四行的 myFavoriteNumber 被推断成了 number，访问它的 length 属性时就报错了。
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vuejs/vuepress/edit/master/JS/ts.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/30/2023, 7:22:50 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/JS/类型转换.html" class="prev">
        JS 类型与转换
      </a></span> <span class="next"><a href="/JS/RXJS.html">
        RXJS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.301264ef.js" defer></script><script src="/assets/js/2.491aa157.js" defer></script><script src="/assets/js/9.18126abf.js" defer></script>
  </body>
</html>
