<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.13" />
    <style>
      :root {
        --c-bg: #fff;
      }

      html.dark {
        --c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <link rel="icon" href="/favicon.ico"><title>HTTP 权威指南 | 游离 の Blog</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-DVu-nCvE.css" as="style"><link rel="stylesheet" href="/assets/style-DVu-nCvE.css">
    <link rel="modulepreload" href="/assets/app-CVfBBX0w.js"><link rel="modulepreload" href="/assets/HTTP权威指南.html-D138XQdw.js">
    <link rel="prefetch" href="/assets/index.html-LwcYs0Jj.js" as="script"><link rel="prefetch" href="/assets/Error.html-BfN5iiZO.js" as="script"><link rel="prefetch" href="/assets/RXJS.html-dJucgoP_.js" as="script"><link rel="prefetch" href="/assets/ts.html-RqyNu4-J.js" as="script"><link rel="prefetch" href="/assets/二进制.html-DVp04qcT.js" as="script"><link rel="prefetch" href="/assets/基础.html-N0c1kIzV.js" as="script"><link rel="prefetch" href="/assets/异步.html-DIWYdckA.js" as="script"><link rel="prefetch" href="/assets/手写代码系列.html-DHEpqP9C.js" as="script"><link rel="prefetch" href="/assets/类型转换.html-fAcAioXZ.js" as="script"><link rel="prefetch" href="/assets/错误处理.html-BkaGvfRH.js" as="script"><link rel="prefetch" href="/assets/Vue2响应式原理.html-CT22Eicc.js" as="script"><link rel="prefetch" href="/assets/Vue3新特性.html-B5gi6Z9P.js" as="script"><link rel="prefetch" href="/assets/Vuejs设计与实现.html-YembZHwP.js" as="script"><link rel="prefetch" href="/assets/Vue使用总结.html-DLlcFLrE.js" as="script"><link rel="prefetch" href="/assets/Vue命名方式.html-KTYh8z83.js" as="script"><link rel="prefetch" href="/assets/keep-alive.html-CUpXA6FB.js" as="script"><link rel="prefetch" href="/assets/key值.html-D24tGzQD.js" as="script"><link rel="prefetch" href="/assets/ansible.html-C1toZ7ov.js" as="script"><link rel="prefetch" href="/assets/bash.html-CB726KSL.js" as="script"><link rel="prefetch" href="/assets/docker.html-CYinx7gI.js" as="script"><link rel="prefetch" href="/assets/gitlab-ci.html-D_TgYJdY.js" as="script"><link rel="prefetch" href="/assets/linux.html-FFIXb64h.js" as="script"><link rel="prefetch" href="/assets/nginx.html-Jspfs9hi.js" as="script"><link rel="prefetch" href="/assets/ssh.html-CgngLPbJ.js" as="script"><link rel="prefetch" href="/assets/CSS.html-i9i3ZjRM.js" as="script"><link rel="prefetch" href="/assets/less_postcss.html-7oxWRqnv.js" as="script"><link rel="prefetch" href="/assets/index.html-CxqkwIw4.js" as="script"><link rel="prefetch" href="/assets/babel.html-DCv8upds.js" as="script"><link rel="prefetch" href="/assets/git.html-B-4sEeDk.js" as="script"><link rel="prefetch" href="/assets/package.json.html-DBQG6w3_.js" as="script"><link rel="prefetch" href="/assets/webpack.html-Bmpdl1KT.js" as="script"><link rel="prefetch" href="/assets/代码风格统一指南.html-B59N3zNN.js" as="script"><link rel="prefetch" href="/assets/模块化.html-Chv6wAgm.js" as="script"><link rel="prefetch" href="/assets/测试.html-QXl3XlBO.js" as="script"><link rel="prefetch" href="/assets/OAuth2.0与微信登陆.html-BBYaoqly.js" as="script"><link rel="prefetch" href="/assets/index.html-BZJzL_ue.js" as="script"><link rel="prefetch" href="/assets/微前端.html-B_heGQIf.js" as="script"><link rel="prefetch" href="/assets/移动端适配.html-ixQ1JVKK.js" as="script"><link rel="prefetch" href="/assets/页面渲染探索和演进.html-Dq1tWFN2.js" as="script"><link rel="prefetch" href="/assets/a-life-of-a-pixel浏览器渲染.html-CUodyyUB.js" as="script"><link rel="prefetch" href="/assets/layoutNG.html-DgCRMbLE.js" as="script"><link rel="prefetch" href="/assets/变化.html-BjAg4vug.js" as="script"><link rel="prefetch" href="/assets/浏览器基础.html-DMbOZcMg.js" as="script"><link rel="prefetch" href="/assets/浏览器架构.html-D61OR6UW.js" as="script"><link rel="prefetch" href="/assets/index.html-D7vFCpUr.js" as="script"><link rel="prefetch" href="/assets/买卖股票.html-Ey-Uqenk.js" as="script"><link rel="prefetch" href="/assets/二叉树.html-CQG9l6PV.js" as="script"><link rel="prefetch" href="/assets/其他构造类.html-CM1yvS94.js" as="script"><link rel="prefetch" href="/assets/动态规划.html-D3JSgp9R.js" as="script"><link rel="prefetch" href="/assets/十大排序.html-kVUzubqz.js" as="script"><link rel="prefetch" href="/assets/双指针.html-Ym2jB0h6.js" as="script"><link rel="prefetch" href="/assets/回溯.html-Cw7WP1Wi.js" as="script"><link rel="prefetch" href="/assets/子串子序列系列.html-ByQY9wWB.js" as="script"><link rel="prefetch" href="/assets/字符串.html-BZiXJTsq.js" as="script"><link rel="prefetch" href="/assets/排序相关.html-Bkl99UsN.js" as="script"><link rel="prefetch" href="/assets/数学.html-DY1wtBp-.js" as="script"><link rel="prefetch" href="/assets/数组.html-CQT2i3Xk.js" as="script"><link rel="prefetch" href="/assets/栈.html-2oRZ8m5k.js" as="script"><link rel="prefetch" href="/assets/背包.html-C_kIj3r6.js" as="script"><link rel="prefetch" href="/assets/链表.html-CQlPamED.js" as="script"><link rel="prefetch" href="/assets/Airbnb.html-4VloiHoG.js" as="script"><link rel="prefetch" href="/assets/plantuml.html-C1XBKeUV.js" as="script"><link rel="prefetch" href="/assets/函数式编程.html-B-VsESoX.js" as="script"><link rel="prefetch" href="/assets/架构整洁之道.html-Br7O39bL.js" as="script"><link rel="prefetch" href="/assets/状态机.html-DsNvo5ei.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-CvJEAx8M.js" as="script"><link rel="prefetch" href="/assets/重构.html-DP1g0adB.js" as="script"><link rel="prefetch" href="/assets/HTTP.html-nqz28ghH.js" as="script"><link rel="prefetch" href="/assets/TCP-UDP.html-BWlBjxlB.js" as="script"><link rel="prefetch" href="/assets/grpc.html--hxQ1G12.js" as="script"><link rel="prefetch" href="/assets/web状态存储.html-C2jhJBUW.js" as="script"><link rel="prefetch" href="/assets/网络基础.html-Dq9gOm9y.js" as="script"><link rel="prefetch" href="/assets/web安全.html-CIipmSLE.js" as="script"><link rel="prefetch" href="/assets/UDP.html-DKREw-aD.js" as="script"><link rel="prefetch" href="/assets/404.html-BdcL8aXy.js" as="script"><link rel="prefetch" href="/assets/index.html-BWyZvGHL.js" as="script"><link rel="prefetch" href="/assets/index.html-S69UcXqD.js" as="script"><link rel="prefetch" href="/assets/index.html-C65OrxdH.js" as="script"><link rel="prefetch" href="/assets/index.html-DMc2JABV.js" as="script"><link rel="prefetch" href="/assets/index.html-7atwWZPC.js" as="script"><link rel="prefetch" href="/assets/index.html-B-VoLrVx.js" as="script"><link rel="prefetch" href="/assets/index.html-DyY4okgo.js" as="script"><link rel="prefetch" href="/assets/index.html-BAbB0pcA.js" as="script"><link rel="prefetch" href="/assets/index.html-Df51m-pU.js" as="script"><link rel="prefetch" href="/assets/style-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/docsearch-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/index-zMbLkDvU.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon"><!--[--><header class="vp-navbar"><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name" aria-hidden="true">游离 の Blog</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/liujia6/liujia6.github.io" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar"><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/liujia6/liujia6.github.io" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">JS <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/JS/%E5%9F%BA%E7%A1%80.html" aria-label="基础"><!---->基础<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/JS/%E5%BC%82%E6%AD%A5.html" aria-label="异步"><!---->异步<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/JS/Error.html" aria-label="Error"><!---->Error<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/JS/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86.html" aria-label="错误处理的应用"><!---->错误处理的应用<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/JS/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2.html" aria-label="JS 类型与转换"><!---->JS 类型与转换<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/JS/%E6%89%8B%E5%86%99%E4%BB%A3%E7%A0%81%E7%B3%BB%E5%88%97.html" aria-label="手写代码"><!---->手写代码<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/JS/ts.html" aria-label="typescript"><!---->typescript<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/JS/RXJS.html" aria-label="RXJS"><!---->RXJS<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Dev Ops <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/dev-ops/ssh.html" aria-label="ssh"><!---->ssh<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dev-ops/linux.html" aria-label="linux 总结"><!---->linux 总结<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dev-ops/nginx.html" aria-label="nginx"><!---->nginx<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dev-ops/gitlab-ci.html" aria-label="Gitlab-CI"><!---->Gitlab-CI<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dev-ops/ansible.html" aria-label="ansible"><!---->ansible<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/dev-ops/docker.html" aria-label="Docker"><!---->Docker<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Vue <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/Vue/Vue2%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html" aria-label="Vue 响应式原理"><!---->Vue 响应式原理<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Vue/Vue3%E6%96%B0%E7%89%B9%E6%80%A7.html" aria-label="vue3新特性"><!---->vue3新特性<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Vue/Vue%E5%91%BD%E5%90%8D%E6%96%B9%E5%BC%8F.html" aria-label="vue 命名规范"><!---->vue 命名规范<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Vue/Vue%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93.html" aria-label="vue 使用总结"><!---->vue 使用总结<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Vue/Vuejs%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0.html" aria-label="Vuejs设计与实现"><!---->Vuejs设计与实现<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Vue/keep-alive.html" aria-label="keep-alive 缓存"><!---->keep-alive 缓存<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Vue/key%E5%80%BC.html" aria-label="vue 中 key 值的作用"><!---->vue 中 key 值的作用<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">工程化 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/%E5%B7%A5%E7%A8%8B%E5%8C%96/git.html" aria-label="git"><!---->git<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E5%B7%A5%E7%A8%8B%E5%8C%96/package.json.html" aria-label="package.json"><!---->package.json<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E5%B7%A5%E7%A8%8B%E5%8C%96/%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E7%BB%9F%E4%B8%80%E6%8C%87%E5%8D%97.html" aria-label="代码风格统一指南"><!---->代码风格统一指南<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E5%B7%A5%E7%A8%8B%E5%8C%96/babel.html" aria-label="Babel"><!---->Babel<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E5%B7%A5%E7%A8%8B%E5%8C%96/webpack.html" aria-label="webpack"><!---->webpack<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E5%B7%A5%E7%A8%8B%E5%8C%96/%E6%A8%A1%E5%9D%97%E5%8C%96.html" aria-label="模块化"><!---->模块化<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E5%B7%A5%E7%A8%8B%E5%8C%96/%E6%B5%8B%E8%AF%95.html" aria-label="测试"><!---->测试<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">算法 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E5%8D%81%E5%A4%A7%E6%8E%92%E5%BA%8F.html" aria-label="十大排序"><!---->十大排序<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F%E7%9B%B8%E5%85%B3.html" aria-label="排序相关"><!---->排序相关<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E6%95%B0%E5%AD%A6.html" aria-label="数学"><!---->数学<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E6%95%B0%E7%BB%84.html" aria-label="数组"><!---->数组<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E9%93%BE%E8%A1%A8.html" aria-label="链表"><!---->链表<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E6%A0%88.html" aria-label="栈"><!---->栈<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E5%AD%97%E7%AC%A6%E4%B8%B2.html" aria-label="字符串"><!---->字符串<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E5%AD%90%E4%B8%B2%E5%AD%90%E5%BA%8F%E5%88%97%E7%B3%BB%E5%88%97.html" aria-label="子串子序列系列"><!---->子串子序列系列<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%8F%89%E6%A0%91.html" aria-label="二叉树"><!---->二叉树<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92.html" aria-label="动态规划"><!---->动态规划<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E5%85%B6%E4%BB%96%E6%9E%84%E9%80%A0%E7%B1%BB.html" aria-label="其他构造类"><!---->其他构造类<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E8%83%8C%E5%8C%85.html" aria-label="背包"><!---->背包<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%AE%97%E6%B3%95/%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8.html" aria-label="买卖股票的最佳时机"><!---->买卖股票的最佳时机<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">网络 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%BD%91%E7%BB%9C/HTTP.html" aria-label="HTTP"><!---->HTTP<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/%E7%BD%91%E7%BB%9C/HTTP%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97.html" aria-label="HTTP 权威指南"><!---->HTTP 权威指南<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#字符编码-ascii-unicode-和-utf-8" aria-label="字符编码：ASCII，Unicode 和 UTF-8"><!---->字符编码：ASCII，Unicode 和 UTF-8<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#url-编码" aria-label="url 编码"><!---->url 编码<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#编码方式" aria-label="编码方式"><!---->编码方式<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#base64" aria-label="base64"><!---->base64<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#服务器的概念" aria-label="服务器的概念"><!---->服务器的概念<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#代理" aria-label="代理"><!---->代理<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#定义" aria-label="定义"><!---->定义<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#应用" aria-label="应用"><!---->应用<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#代理如何获取流量" aria-label="代理如何获取流量"><!---->代理如何获取流量<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#网关" aria-label="网关"><!---->网关<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#tcp-编程" aria-label="TCP 编程"><!---->TCP 编程<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#重定向与负载均衡" aria-label="重定向与负载均衡"><!---->重定向与负载均衡<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#国际化编码" aria-label="国际化编码"><!---->国际化编码<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#内容和传输编码" aria-label="内容和传输编码"><!---->内容和传输编码<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#vary-首部" aria-label="Vary 首部："><!---->Vary 首部：<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#trailer" aria-label="Trailer"><!---->Trailer<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80.html" aria-label="网络基础"><!---->网络基础<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%BD%91%E7%BB%9C/grpc.html" aria-label="grpc"><!---->grpc<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">计算机基础 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/web%E5%AE%89%E5%85%A8.html" aria-label="web 安全"><!---->web 安全<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">编程 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%BC%96%E7%A8%8B/%E9%87%8D%E6%9E%84.html" aria-label="重构"><!---->重构<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%BC%96%E7%A8%8B/%E6%9E%B6%E6%9E%84%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93.html" aria-label="架构整洁之道"><!---->架构整洁之道<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%BC%96%E7%A8%8B/%E7%8A%B6%E6%80%81%E6%9C%BA.html" aria-label="状态机"><!---->状态机<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%BC%96%E7%A8%8B/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" aria-label="设计模式"><!---->设计模式<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B.html" aria-label="函数式编程"><!---->函数式编程<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%BC%96%E7%A8%8B/plantuml.html" aria-label="plantuml"><!---->plantuml<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E7%BC%96%E7%A8%8B/Airbnb.html" aria-label="Airbnb"><!---->Airbnb<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">其他 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/%E6%96%B0%E6%8A%80%E6%9C%AF/%E5%BE%AE%E5%89%8D%E7%AB%AF.html" aria-label="微前端"><!---->微前端<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E6%96%B0%E6%8A%80%E6%9C%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D.html" aria-label="移动端适配"><!---->移动端适配<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E6%96%B0%E6%8A%80%E6%9C%AF/OAuth2.0%E4%B8%8E%E5%BE%AE%E4%BF%A1%E7%99%BB%E9%99%86.html" aria-label="OAuth2.0与微信登陆"><!---->OAuth2.0与微信登陆<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E6%96%B0%E6%8A%80%E6%9C%AF/%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E6%8E%A2%E7%B4%A2%E5%92%8C%E6%BC%94%E8%BF%9B.html" aria-label="页面渲染探索和演进"><!---->页面渲染探索和演进<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">浏览器 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%9F%BA%E7%A1%80.html" aria-label="浏览器基础"><!---->浏览器基础<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%9E%B6%E6%9E%84.html" aria-label="浏览器架构"><!---->浏览器架构<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/%E6%B5%8F%E8%A7%88%E5%99%A8/a-life-of-a-pixel%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93.html" aria-label="A life of a pixel"><!---->A life of a pixel<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="http-权威指南" tabindex="-1"><a class="header-anchor" href="#http-权威指南"><span>HTTP 权威指南</span></a></h1><ul><li>超文本传输</li></ul><h3 id="字符编码-ascii-unicode-和-utf-8" tabindex="-1"><a class="header-anchor" href="#字符编码-ascii-unicode-和-utf-8"><span>字符编码：ASCII，Unicode 和 UTF-8</span></a></h3><ul><li>二进制是起源，一个 0 或 1 就是 1 位</li><li>8 个二进制位称为一个字节，拥有 256 种状态</li><li>ASCII 编码拥有 128 个字符的编码，是英语字符与二进制位之间的关系映射。但是第一位始终为 0 不使用，只占用 7 位，一个字节就是一个英语字符</li><li>非 ASCII 编码，英语用 128 个符号编码够了，但是其他语言不够，中文由于一个字节只有 256 中，不够，所以采用两个字节，简体中文常见的编码方式是 GB2312</li><li>Unicode 将世界上所有的符号都纳入其中。每一个符号都给予一个独一无二的编码</li><li>Unicode 只是一个符号集，它只规定了符号的二进制代码，却没有规定这个二进制代码应该如何存储</li><li>UTF-8 是 Unicode 的实现方式之一</li><li>UTF-8 最大的一个特点，就是它是一种变长的编码方式。它可以使用 1~4 个字节表示一个符号，根据不同的符号而变化字节长度 <ul><li>对于单字节的符号，字节的第一位设为 0，后面 7 位为这个符号的 Unicode 码。因此对于英语字母，UTF-8 编码和 ASCII 码是相同的。</li><li>对于 n 字节的符号（n &gt; 1），第一个字节的前 n 位都设为 1，第 n + 1 位设为 0，后面字节的前两位一律设为 10。剩下的没有提及的二进制位，全部为这个符号的 Unicode 码。</li></ul></li><li>utf-8 的优点在于一个英文只要一个字节，但是一个中文却是 3 个字节，utf-16 的优点在于编码长度固定，一个中文只要两 2 个字节，但是一个英文也要两个字节。所以对于英文网页 utf-8 编码更加有利，而对于中文网页使用 utf-16 应该更加有利</li><li>Java 和 JS 的字符串都是使用 UTF-16 编码，因为它有长度比较固定的优势，不像 UTF-8 字节数可能从 1 变到 4。如下图所示：英文和中文长度都是 1，而 Emoj 的长度是 2，因为长度单位是 2 个字节作为 1，Emoj 的需要 4 个字节，因此长度是 2</li><li>charCodeAt 返回当前字符的 utf 编码</li><li>如果是要检测中文的话可以使用正则表达式，看当前符号是否落在中文编码的范围内：</li><li>utf 是国际标准，规定了每个字符的编码，而 utf-8/utf-16 决定了 utf 该如何存储与读取，utf-8 的优点是对于英文比较有利，比较节省空间，utf-16 对于中文比较有利。但是如果西方国家使用 utf-8，然后东方国家使用 utf-16，那么互联网可能就乱了，所以从统一标准的角度我们还是使用 utf-8。还讨论了 GBK 编码和乱码的问题，如果一个字符存的时候是用的一种编码，但是读的时候却用的另一种编码，那就会对不上原先的字符，就会出现乱码的情况。另外，由于 utf-16 编码长度比较固定，所以 JS 和 Java 使用了 utf-16 做为它们在内存里字符串的编码。根据实验，meta 的 charset 标签在没有设置响应头的 charset 时可以起作用。</li><li><a href="https://jingyan.baidu.com/article/47a29f24671346c0142399fe.html" target="_blank" rel="noopener noreferrer">全角与半角</a><ul><li>全角的标点符号占 2 个字节，半角的标点符号占 1 个字节</li><li>半角是 ASCII 的编码，全角是 GB2312 的编码</li></ul></li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">Unicode符号范围     |        UTF-8编码方式</span>
<span class="line">(十六进制)        |              （二进制）</span>
<span class="line">----------------------+---------------------------------------------</span>
<span class="line">0000 0000-0000 007F | 0xxxxxxx</span>
<span class="line">0000 0080-0000 07FF | 110xxxxx 10xxxxxx</span>
<span class="line">0000 0800-0000 FFFF | 1110xxxx 10xxxxxx 10xxxxxx</span>
<span class="line">0001 0000-0010 FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="url-编码" tabindex="-1"><a class="header-anchor" href="#url-编码"><span><a href="http://www.ruanyifeng.com/blog/2010/02/url_encoding.html" target="_blank" rel="noopener noreferrer">url 编码</a></span></a></h2><ul><li>一般来说，URL 只能使用英文字母、阿拉伯数字和某些标点符号，不能使用其他文字和符号</li><li>只有字母和数字[0-9a-zA-Z]、一些特殊符号&quot;$-_.+!*&#39;(),&quot;[不包括双引号]、以及某些保留字，才可以不经过编码直接用于 URL。</li><li>网址路径的编码，用的是 utf-8 编码</li><li>查询字符串的编码，用的是操作系统的默认编码</li><li>网页里的 form 编码其实不完全取决于网页编码，form 标记中有一个 accept-charset 属性，在非 ie 浏览器种，如果将其赋值(比如 accept-charset=&quot;UTF-8&quot;)，则表单会按照这个值表示的编码方式进行提交。</li><li>在已打开的网页上，直接用 Get 或 Post 方法发出 HTTP 请求,编码方法由网页的编码决定，也就是由 HTML 源码中字符集的设定决定。</li><li>在 Ajax 调用中，IE 总是采用 GB2312 编码（操作系统的默认编码），而 Firefox 总是采用 utf-8 编码&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=xxxx&quot;&gt;</li></ul><p>由于不同的方式的编码不同，所以我们在传送数据之前用 js 处理编码的方法来统一处理。</p><p>全角：LOVE 半角：ＬＯＶＥ</p><h3 id="编码方式" tabindex="-1"><a class="header-anchor" href="#编码方式"><span>编码方式</span></a></h3><table><thead><tr><th>编码方式</th><th>作用对象</th><th>具体编码机制</th></tr></thead><tbody><tr><td>escape/unescape</td><td>字符串</td><td>Unicode 编码值</td></tr><tr><td>encodeURI/decodeURI</td><td>整个 URL</td><td>除了常见的符号以外，对其他一些在网址中有特殊含义的符号&quot;; / ? : @ &amp; = + $ , #&quot;，也不进行编码。编码后，它输出符号的 utf-8 形式，并且在每个字节前加上%</td></tr><tr><td>encodeURIComponent/decodeURIComponent</td><td>URL 中的参数</td><td>&quot;; / ? : @ &amp; = + $ , #&quot;，这些在 encodeURI()中不被编码的符号，在 encodeURIComponent()中统统会被编码,具体的编码方法，与 encodeURI 一致</td></tr></tbody></table><p>如果上面这一行最后的 charset 是 UTF-8，则 URL 就以 UTF-8 编码；如果是 GB2312，URL 就以 GB2312 编码。</p><h2 id="base64" tabindex="-1"><a class="header-anchor" href="#base64"><span><a href="https://www.zhangxinxu.com/wordpress/2012/04/base64-url-image-%e5%9b%be%e7%89%87-%e9%a1%b5%e9%9d%a2%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96/" target="_blank" rel="noopener noreferrer">base64</a></span></a></h2><blockquote><p>thunder://QUFodHRwOi8vd3d3LmJhaWR1LmNvbS9pbWcvc3NsbTFfbG9nby5naWZaWg==</p></blockquote><ul><li>一堆连续字母，最后有 1~2 个&quot;=&quot;的代码就是 base64</li><li>将三个字节转化成四个字节，因此编码后的文本，会比原文本大出三分之一左右</li></ul><h5 id="base64-url-传输图片文件的好处在于" tabindex="-1"><a class="header-anchor" href="#base64-url-传输图片文件的好处在于"><span>base64:URL 传输图片文件的好处在于：</span></a></h5><ul><li>减少了 HTTP 请求</li><li>某些文件可以避免跨域的问题</li><li>没有图片更新要重新上传，还要清理缓存的问题</li></ul><h5 id="什么情况下用-base64" tabindex="-1"><a class="header-anchor" href="#什么情况下用-base64"><span>什么情况下用 base64：</span></a></h5><ul><li>不能与其他图片以 CSS Sprite 的形式存在，只能独行</li><li>基本上很少被更新</li><li>实际尺寸很小</li><li>在网站中大规模使用</li></ul><p>HTML5 中 atob 和 btoa 方法支持 Base64 编码和解码。</p><ul><li>b 代表 base64，a 表示 ascii 码</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;https://lin-xin.github.io&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">btoa</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">atob</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// https://lin-xin.github.io</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// aHR0cHM6Ly9saW4teGluLmdpdGh1Yi5pbw==</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// https://lin-xin.github.io复制代码btoa</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数中带中文，已经超出了 8 位 ASCII 编码的字符范围，浏览器就会报错。所以需要先对中文进行 encodeURIComponent 编码处理。</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;哈喽 世界&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">btoa</span><span class="token punctuation">(</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span><span class="token function">atob</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// JUU1JTkzJTg4JUU1JTk2JUJEJTIwJUU0JUI4JTk2JUU3JTk1JThD</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 哈喽 世界</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="服务器的概念" tabindex="-1"><a class="header-anchor" href="#服务器的概念"><span>服务器的概念</span></a></h2><ul><li>分两种 <ul><li>硬件主机</li><li>24 小时服务的软件程序，可以用 node 的 server 模块穿件一个 clientServer 并监听端口，就可以对外提供服务来了</li></ul></li><li>内容分为 <ul><li>静态文件服务器</li><li>动态文件服务器</li></ul></li></ul><h2 id="代理" tabindex="-1"><a class="header-anchor" href="#代理"><span>代理</span></a></h2><h3 id="定义" tabindex="-1"><a class="header-anchor" href="#定义"><span>定义</span></a></h3><ul><li>代理是位于客户端与服务端之间的 HTTP 实体</li><li>它既是 web 服务器又是客户端</li><li>代理的 url 包括主机名，普通没有 <img src="https://note.youdao.com/yws/public/resource/c9f1b9f836ce443c9e328d9da17c3c84/xmlnote/5BB0842ECFE84C86948C30F835C5847A/13606" alt="image"></li></ul><h3 id="应用" tabindex="-1"><a class="header-anchor" href="#应用"><span>应用</span></a></h3><p>我的理解，就和中间件一样可以对请求和响应根据需求做出处理比如</p><ul><li>网站访问控制：儿童过滤器，公司、在入口部署</li><li>安全防火墙</li><li>反向代理（在服务器之前代替服务器，称为替代物，会假扮服务器的 ip 端口）</li></ul><h3 id="代理如何获取流量" tabindex="-1"><a class="header-anchor" href="#代理如何获取流量"><span>代理如何获取流量</span></a></h3><ol><li>通过在浏览器设置代理，称为正向代理 <ul><li>浏览器设置代理、chrome 用一个扩展程序</li><li><a href="https://www.barretlee.com/blog/2016/08/25/pac-file/" target="_blank" rel="noopener noreferrer">pac 文件</a></li></ul></li><li>在网络基础设备中导入代理，称为拦截代理</li><li>修改 dns，添加代理</li><li>服务器设置重定向，称为反向代理</li></ol><h2 id="网关" tabindex="-1"><a class="header-anchor" href="#网关"><span>网关</span></a></h2><ul><li>对比代理，网关可以处理不同协议间如 http/ftp 的对话，代理只处理 http 请求,但实际上两者区别也比较模糊，因为代理也要处理不同版本间的 http，商业化的代理也会支持 ssl、ftp</li><li>无论是 Apache 还是 Nginx，首先它们是 HTTP 服务器，其次实现代理和反向代理只是它们的一个功能而不是全部</li></ul><h3 id="tcp-编程" tabindex="-1"><a class="header-anchor" href="#tcp-编程"><span><a href="https://www.liaoxuefeng.com/wiki/897692888725344/923056653167136" target="_blank" rel="noopener noreferrer">TCP 编程</a></span></a></h3><p>Socket 是一套完整的 TCP,UDP 协议的接口。 你浏览的网页（网址以 http 开头)都是 http 协议传输到你的浏览器的, 而 http 是基于 Socket 之上的。 socket 连接：socket 连接就是所谓的长连接，理论上客户端和服务器端一旦建立起连接将不会主动断掉；但是由于各种环境因素可能会是连接断开 Socket 是一个针对 TCP 和 UDP 编程的接口，可以借助它建立 TCP 连接等等。而 TCP 和 UDP 协议属于传输层 ，而 http 是个应用层的协议，它实际上也建立在 TCP 协议之上。(HTTP 是轿车，提供了封装或者显示数据的具体形式；Socket 是发动机，提供了网络通信的能力。)</p><p>Socket 定义： 就是利用模式&quot;打开 open-&gt;write/read-&gt;关闭 close&quot;来实现的，socket 是一种特殊的文件。</p><p>HTTP 协议：简单对象访问协议，对应于应用层 ，HTTP 协议是基于 TCP 连接的</p><p>TCP 协议： 对应于传输层</p><p>IP 协议： 对应于网络层</p><p>TCP/IP 是传输层协议，主要解决数据如何在网络中传输；而 HTTP 是应用层协议，主要解决如何包装数据。</p><p>Socket 是对 TCP/IP 协议的封装，Socket 本身并不是协议，而是一个调用接口（API），通过 Socket，我们才能使用 TCP/IP 协议</p><p>http 连接：http 连接就是所谓的短连接，即客户端向服务器端发送一次请求，服务器端响应后连接即会断掉; socket 连接：socket 连接就是所谓的长连接，理论上客户端和服务器端一旦建立起连接将不会主动断掉；但是由于各种环境因素可能会是连接断开</p><p>Socket 是一个针对 TCP 和 UDP 编程的接口，可以借助它建立 TCP 连接等等。而 TCP 和 UDP 协议属于传输层 ，而 http 是个应用层的协议，它实际上也建立在 TCP 协议之上。(HTTP 是轿车，提供了封装或者显示数据的具体形式；Socket 是发动机，提供了网络通信的能力。) Socket 定义： 就是利用模式&quot;打开 open-&gt;write/read-&gt;关闭 close&quot;来实现的，socket 是一种特殊的文件。</p><p>Socket 的网络连接步骤 建立 Socket 连接至少需要一对套接字，其中一个运行于客户端，称为 ClientSocket ，另一个运行于服务器端，称为 ServerSocket 。 套接字之间的连接过程分为三个步骤：服务器监听，客户端请求，连接确认。 服务器监听：服务器端套接字并不定位具体的客户端套接字，而是处于等待连接的状态，实时监控网络状态，等待客户端的连接请求 客户端请求：指客户端的套接字提出连接请求，要连接的目标是服务器端的套接字。为此，客户端的套接字必须首先描述它要连接的服务器的套接字，指出服务器端套接字的地址和端口号，然后就向服务器端套接字提出连接请求。 连接确认：当服务器端套接字监听到或者说接收到客户端套接字的连接请求时，就响应客户端套接字的请求，建立一个新的线程，把服务器端套接字的描述发给客户端，一旦客户端确认了此描述，双方就正式建立连接。而服务器端套接字继续处于监听状态，继续接收其他客户端套接字的连接请求。</p><h2 id="重定向与负载均衡" tabindex="-1"><a class="header-anchor" href="#重定向与负载均衡"><span>重定向与负载均衡</span></a></h2><p>原因</p><ol><li>可靠，保证一个出错，还有其他的顶替</li><li>更快返回响应</li><li>减少网络拥塞</li></ol><ul><li><p>通用重定向</p><ol><li>HTTP 重定向 301 <ul><li>缺点：时延增加，增加服务器的负担，处理不了故障</li></ul></li><li>DNS 重定向 <ul><li>dns 轮转</li><li>不会平衡单个客户端的负载</li><li>负载均衡算法</li><li>邻接路由算法</li><li>故障屏蔽算法</li></ul></li><li>MAC 转发 <ul><li>在交换机上编写程序，将对应 MAC 地址流量，转发到代理缓存上，通常将骑牛转发给几个代理缓存，并在其中平衡负载或者备用 HTTP 服务器，</li><li>注意 MAC 转发是点对点的，只能一跳远</li></ul></li><li>IP 地址转发 <ul><li>IP 地址转发通 MAC 转发类似，更加自由，没有一跳远的限制，只需要位于交换机的上游，称为 NAT，网络地址转换</li><li>对称路由的限制，来去的路线必须一致</li><li>完全 NAT：源 IP 地址为交换机的 IP，缺点：无法确认唯一客户端，无法实现付费</li><li>半 NAT：源 IP 不变，缺点：需要确保实现对称路由</li></ul></li><li>网元控制协议 NECP <ul><li>网元是指路由器、交换机等设备网络元素</li><li>服务器元素 SE 是指 web 服务器和代理缓存等提供请求设备</li></ul></li></ol></li><li><p>代理重定向</p><ul><li>显式浏览器配置</li><li>代理自动配置 PAC 协议， <ul><li>让浏览器获取 PAC 文件，说明了每个 URL 关联的代理，为 PAC 文件关联一个特定的服务器</li></ul></li><li>WPAD 代理自动发现协议 <ul><li>不要求用户手工配置 dialing 设置，不依赖流量拦截，为 web 浏览器提供一种发现并使用附近代理的范式</li></ul></li></ul></li><li><p>缓存重定向：因为需要分配到可能包含特定内容的位置，要求可靠、高效且能感知内容</p><ol><li><strong>WCCP 重定向</strong>，使路由器将 web 流量重定向到代理缓存中，负责路由器和缓存服务器之间的通信，这样路由器就可以对缓存验证，在缓存中负载均衡，并将特定类型的流量发送给特定的缓存 <ul><li>GRE 分组封装：支持 WCCP 的路由器用服务器 IP 地址将 HTTP 分组封装起来，将其重定向到特定的服务器上。</li><li>服务组：由一组支持 WCCP 的路由器和缓存组成，可以交换 WCCP 报文</li></ul></li></ol><ul><li><strong>ICP 因特网缓存协议</strong>：允许缓存在兄弟缓存中查找命中的内容，会同时询问附近的多个缓存，看是否有特定 URL，返回 HIT 或 MISS，以一层为单位查询，打开 HTTP 连接传输</li><li><strong>CARP 缓存阵列路由协议</strong>：使用多个代理服务器将负载分散到一组服务器上，是 ICP 的替代品，可以通过单次查找确定对应缓存服务器的位置</li><li><strong>HTCP 超文本缓存协议</strong>：允许兄弟缓存之间通过 URL 和所有的骑牛以及响应首部来相互查询文档是否存在，而且允许对方修改资源</li></ul></li></ul><h2 id="国际化编码" tabindex="-1"><a class="header-anchor" href="#国际化编码"><span>国际化编码</span></a></h2><ul><li>客户端的 Accept-Charset、Accept-Language</li><li>服务端的 Content-type 中的 charset 和 content-Language 首部</li><li>字符集：把字符转换为二进制码的编码算法</li><li>字符集标记由 IANA 的 MIME 字符集注册机构标准化</li></ul><h3 id="内容和传输编码" tabindex="-1"><a class="header-anchor" href="#内容和传输编码"><span>内容和传输编码</span></a></h3><ol><li>content-length 是压缩后或包含内容编码后的大小</li><li>除非使用分块编码，否则是必须的报文实体字段</li><li>content-length 的作用 <ol><li>检测出服务器崩溃导致的<strong>报文截尾</strong><ul><li>早期是用正确关闭连接的方法划定报文结束 ，但是如果没有 content-length 无法判别服务器崩溃异常导致的连接关闭</li><li>若有缓存代理服务器，若有错误没有识别，会存储不完成的内容并重复使用，缓存服务器不会处理没有 content-length 的报文</li><li>HTTP1.1 规定若检测到无效长度需要通知用户</li></ul></li><li>对共享<strong>持久连接</strong>的多个报文正确分段 <ul><li>content-length 首部对持久连接必不可少，因为持久连接，无法通过连接关闭判断报文结束</li><li>如果采用分块编码可以没有 content-length 首部</li></ul></li></ol></li><li>内容编码：发送前进行编码，与内容的具体格式细节紧密相关，gzip 压缩文本，jpeg 不能用 gzip <ul><li>压缩</li><li>搅乱或加密</li><li>Content-Encoding：用于指定报文主体已经采用的编码方式，属于端到端首部，即在整个传输过程中有效。</li><li>Accept-Encoding：用于告知服务器客户端能够处理的编码方式和相对优先级，属于端到端首部，即<strong>在整个传输过程</strong>中有效。</li></ul></li><li><a href="https://www.geek-share.com/detail/2715577569.html" target="_blank" rel="noopener noreferrer">传输编码和分块编码</a><ul><li>HTTP 分块传输编码允许服务器为动态生成的内容维持 HTTP 持久链接</li><li>可以通过传输编码把报文扰乱保证安全，不过有了 SSL 就不太考虑用此了</li><li>Transfer-Encoding：用于指定传输报文主体时使用的编码方式，属于逐跳首部，即只在两个<strong>节点间</strong>有效。</li><li>TE：用于告知服务器客户端能够处理的编码方式和相对优先级，属于逐跳首部，即只在两个节点间有效。</li></ul></li></ol><h2 id="vary-首部" tabindex="-1"><a class="header-anchor" href="#vary-首部"><span>Vary 首部：</span></a></h2><ul><li>定义了服务器由什么的不同而发送不同的实体内容</li><li>若所提供的文档取决于 User-Agent 首部，vary 首部就必须包含 User-Agent</li><li>所服务器 Vary：User-Agent，cookie，大量不同的 User-Agent，cookie 会产生非常多的变体，缓存必须为每个变体保存相应文档版本</li><li>Vary: User-Agent ​ 例如你提供给移动端的内容是不同的，可用防止你客户端误使用了用于桌面端的缓存。 并可帮助 Google 和其他搜索引擎来发现你的移动端版本的页面，同时告知他们不需要 Cloaking。</li></ul><h2 id="trailer" tabindex="-1"><a class="header-anchor" href="#trailer"><span><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Trailer" target="_blank" rel="noopener noreferrer">Trailer</a></span></a></h2><p>Trailer 是一个响应首部，允许发送方在分块发送的消息后面添加额外的元信息，这些元信息可能是随着消息主体的发送动态生成的，比如消息的完整性校验，消息的数字签名，或者消息经过处理之后的最终状态等。</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/liujia6/liujia6.github.io/edit/main/网络/HTTP权威指南.md" aria-label="帮助我们改善此页面！" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->帮助我们改善此页面！<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 41950983+liujia6@users.noreply.github.com">Liu Jia</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/%E7%BD%91%E7%BB%9C/HTTP.html" aria-label="HTTP"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>HTTP</span></div></a><a class="route-link auto-link next" href="/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80.html" aria-label="网络基础"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>网络基础</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CVfBBX0w.js" defer></script>
  </body>
</html>
