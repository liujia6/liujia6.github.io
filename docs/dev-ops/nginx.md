# nginx

Nginx 的最重要的几个使用场景：

1. 静态资源服务，通过本地文件系统提供服务；
2. 反向代理服务，延伸出包括缓存、负载均衡等；
3. API 服务，OpenResty ；



###  动静分离

![动静分离](https://cdn.jsdelivr.net/gh/SHERlocked93/pic@env/uPic/2020-03-09-%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB.png)

Nginx 的高并发和静态资源缓存等特性，经常将静态资源部署在 Nginx 上。

如果请求的是静态资源，直接到静态资源目录获取资源，

如果是动态资源的请求，则利用反向代理的原理，把请求转发给对应后台应用去处理，从而实现动静分离。

## [location匹配](https://juejin.cn/post/6844903849166110733#heading-2)

### 匹配优先级

1. 精确匹配 =
1. 前缀匹配 ^~（立刻停止后续的正则搜索）
1. 按文件中顺序的正则匹配 ~或~*
1. 匹配不带任何修饰的前缀匹配。
2. 正则匹配是使用文件中的顺序，找到返回

符号 | 含义
---|---
~ | 区分大小写的正则匹配
~* | 不区分大小写的正则匹配
^~| 前缀匹配，不匹配正则，优先正则匹配
 /document | 普通前缀匹配，前缀匹配下，返回最长匹配的 location，与 location 所在位置顺序无关

 
